# ===================================
# APPLICATION
# ===================================
spring.application.name=kitchensink-modernized
server.port=8081

# ===================================
# MONGODB
# ===================================
spring.data.mongodb.uri=mongodb://localhost:27017/kitchensink
spring.data.mongodb.auto-index-creation=true

# ===================================
# JWT CONFIGURATION
# ===================================
jwt.secret=mySecretKeyForJWTTokenSigningMustBeAtLeast256BitsLong123456789
# Access token: 1 hour (3600000 ms = 60 minutes)
jwt.access-token-expiration=3600000
# Refresh token: 7 days (604800000 ms)
jwt.refresh-token-expiration=604800000

# ===================================
# SESSION MANAGEMENT
# ===================================
# Maximum concurrent sessions per user (auto-revokes oldest when exceeded)
session.max-concurrent=5

# ===================================
# LOGGING
# ===================================
# Root logging level
logging.level.root=INFO

# Application logging - DEBUG for development
logging.level.com.modernizedkitechensink=DEBUG

# Spring Security - useful for auth debugging
logging.level.org.springframework.security=INFO

# MongoDB queries - enable for debugging
logging.level.org.springframework.data.mongodb=INFO

# Log pattern with timestamp, level, thread, logger, message
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight(%-5level) [%thread] %cyan(%logger{36}) - %msg%n

# ===================================
# ACTUATOR (Health & Metrics)
# ===================================
management.endpoints.web.exposure.include=health,info,metrics,caches
management.endpoint.health.show-details=when_authorized
management.info.env.enabled=true

# Application info for /actuator/info
info.app.name=Kitchensink Modernized
info.app.description=Migrated from JBoss EAP to Spring Boot
info.app.version=1.0.0
info.app.java.version=21

# ===================================
# SERVER CONFIGURATION
# ===================================
# Enable response compression
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/plain
server.compression.min-response-size=1024

# ===================================
# JACKSON (JSON)
# ===================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null

# ===================================
# REDIS CONFIGURATION
# ===================================
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=2
spring.data.redis.lettuce.pool.max-wait=2000ms

# ===================================
# CACHE CONFIGURATION (Redis)
# ===================================
spring.cache.type=redis
spring.cache.redis.time-to-live=300000
spring.cache.redis.cache-null-values=false

# ===================================
# EMAIL CONFIGURATION
# ===================================
# For development: Use Gmail SMTP (requires app-specific password)
# For production: Use SendGrid, AWS SES, or your own SMTP server
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=your-email@gmail.com
spring.mail.password=your-app-specific-password
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Application email settings
app.mail.from=noreply@kitchensink.com
app.mail.fromName=Kitchensink Application
app.frontend.url=http://localhost:3000
app.password-reset.token-expiration=3600000